<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>ROS - AirSim</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "ROS";
    var mkdocs_page_input_path = "ros.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> AirSim</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../CHANGELOG/">Whats New</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Get AirSim</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../use_precompiled/">Download Binaries</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../build_windows/">Build on Windows</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../build_linux/">Build on Linux</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../unreal_custenv/">Creating Custom Environment</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Using AirSim</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../apis/">Core APIs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../image_apis/">Image APIs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../apis_cpp/">C++ APIs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dev_workflow/">Development Workflow</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../settings/">Settings</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../camera_views/">Camera Views</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../using_car/">Using Car</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../remote_control/">Remote Control</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../xbox_controller/">XBox Controller</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../steering_wheel_installation/">Steering Wheel</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../multi_vehicle/">Multiple Vehicles</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../sensors/">Sensors</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../lidar/">LIDAR</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">ROS</a>
    <ul class="current">
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../playback/">Playing Logs</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Design</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../design/">Architecture</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../code_structure/">Code Structure</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../coding_guidelines/">Coding Guidelines</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../flight_controller/">Flight Controller</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../simple_flight/">Simple Flight</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../hello_drone/">Hello Drone</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">MavLink and PX4</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../px4_setup/">PX4 Setup for AirSim</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../px4_sitl/">PX4 in SITL</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://youtu.be/1oY8Qu5maQQ">AirSim with Pixhawk</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://youtu.be/HNWdYrtw3f0">PX4 Setup with AirSim</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://www.youtube.com/watch?v=d_FyjKDWQfc&feature=youtu.be">Debugging Attitude Estimation</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://github.com/Microsoft/AirSim/wiki/Intercepting-MavLink-messages">Intercepting MavLink Messages</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://github.com/Microsoft/AirSim/wiki/Rapid-Descent-on-PX4-drones">Rapid Descent on PX4 Drones</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../px4_build/">Building PX4</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../px4_logging/">PX4/MavLink Logging</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../log_viewer/">MavLink LogViewer</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Upgrading</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../unreal_upgrade/">Upgrading Unreal</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../upgrade_apis/">Upgrading APIs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../upgrade_settings/">Upgrading Settings</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Contributed Tutorials</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../reinforcement_learning/">Reinforcement Learning</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://www.youtube.com/watch?v=y09VbdQWvQY">Using Environments from Marketplace</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://github.com/simondlevy/AirSimTensorFlow">Simple Collision Avoidance</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://aka.ms/AutonomousDrivingCookbook">Autonomous Driving on Azure</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://github.com/Microsoft/AirSim/wiki/hexacopter">Building Hexacopter</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://github.com/Microsoft/AirSim/wiki/moveOnPath-demo">Moving on Path Demo</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://github.com/Microsoft/AirSim/wiki/Point-Clouds">Building Point Clouds</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://github.com/Microsoft/AirSim/wiki/Implementing-a-Drone-Survey-script">Surveying Using Drone</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Misc</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../custom_drone/">AirSim on Real Drones</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../cmake_linux/">Installing cmake on Linux</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../hard_drive/">Tips for Busy HDD</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../pfm/">pfm format</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../unreal_proj/">Setting up Unreal Environment</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../unreal_blocks/">Blocks Environment</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../who_is_using/">Who is Using AirSim</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../working_with_plugin_contents/">Working with UE Plugin Contents</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://github.com/Microsoft/AirSim/wiki/technion">Formula Student Technion Self-drive</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Support</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../faq/">FAQ</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../SUPPORT/">Support</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../create_issue/">Create Issue</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING/">Contribute</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">AirSim</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Using AirSim &raquo;</li>
        
      
    
    <li>ROS</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/microsoft/airsim/edit/master/docs/ros.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="how-to-use-airsim-with-robot-operating-system-ros">How to use AirSim with Robot Operating System (ROS)<a class="headerlink" href="#how-to-use-airsim-with-robot-operating-system-ros" title="Permanent link">#</a></h1>
<p>AirSim and ROS can be integrated using C++ or Python.  Some example ROS nodes are provided demonstrating how to publish data from AirSim as ROS topics.</p>
<h1 id="python">Python<a class="headerlink" href="#python" title="Permanent link">#</a></h1>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">#</a></h2>
<p>These instructions are for Ubuntu 16.04, ROS Kinetic, UE4 4.18 or higher, and latest AirSim release.
You should have these components installed and working before proceeding</p>
<h2 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">#</a></h2>
<h3 id="create-a-new-ros-package-in-your-catkin-workspace-following-these-instructions">Create a new ROS package in your catkin workspace following these instructions.<a class="headerlink" href="#create-a-new-ros-package-in-your-catkin-workspace-following-these-instructions" title="Permanent link">#</a></h3>
<p>Create a new ROS package called airsim or whatever you like.</p>
<p><a href="http://wiki.ros.org/ROS/Tutorials/CreatingPackage">Create ROS package</a></p>
<p>If you don't already have a catkin workspace, you should first work through the ROS beginner tutorials.</p>
<h3 id="add-airsim-ros-node-examples-to-ros-package">Add AirSim ROS node examples to ROS package<a class="headerlink" href="#add-airsim-ros-node-examples-to-ros-package" title="Permanent link">#</a></h3>
<p>In the ROS package directory you made, copy the ros examples from the AirSim/PythonClient directory to your ROS package. Change the code below to match your AirSim and catkin workspace paths.</p>
<pre><code># copy package
mkdir -p ../catkin_ws/src/airsim/scripts/airsim
cp AirSim/PythonClient/airsim/*.py ../catkin_ws/src/airsim/scripts/airsim

# copy ROS examples
cp AirSim/PythonClient/ros/*.py ../catkin_ws/src/airsim/scripts
</code></pre>

<h3 id="build-ros-airsim-package">Build ROS AirSim package<a class="headerlink" href="#build-ros-airsim-package" title="Permanent link">#</a></h3>
<p>Change directory to your top level catkin workspace folder i.e. <code>cd ~/catkin_ws</code>  and run <code>catkin_make</code>
This will build the airsim package.  Next, run <code>source devel/setup.bash</code> so ROS can find the new package.
You can add this command to your ~/.bashrc to load your catkin workspace automatically.</p>
<h2 id="how-to-run-ros-airsim-nodes">How to run ROS AirSim nodes<a class="headerlink" href="#how-to-run-ros-airsim-nodes" title="Permanent link">#</a></h2>
<p>First make sure UE4 is running an airsim project, the car or drone should be selected, and the simulations is playing.
Examples support car or drone.  Make sure to have the correct vehicle for the ros example running. </p>
<p>The example airsim nodes can be run using <code>rosrun airsim example_name.py</code> The output of the node 
can be viewed in another terminal by running <code>rostopic echo /example_name</code>  You can view a list of the
topics currently published via tab completion after typing <code>rostopic echo</code> in the terminal.
Rviz is a useful visualization tool that can display the published data. </p>
<h3 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">#</a></h3>
<p>In the case of <code>rosrun airsim example_name.py</code> returning <code>Couldn't find executable named...</code> you may <code>chmod +x example_name.py</code> to tell the system that this is executable.</p>
<h1 id="c-coming-soon">C++ (coming soon)<a class="headerlink" href="#c-coming-soon" title="Permanent link">#</a></h1>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../playback/" class="btn btn-neutral float-right" title="Playing Logs">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../lidar/" class="btn btn-neutral" title="LIDAR"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright &copy; 2018 Microsoft Research</p>
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/microsoft/airsim/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../lidar/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../playback/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
